{"remainingRequest":"/Users/czx/Desktop/ttt/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/czx/Desktop/ttt/src/views/city/component/Alphabet.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/czx/Desktop/ttt/src/views/city/component/Alphabet.vue","mtime":1567498731554},{"path":"/Users/czx/Desktop/ttt/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/czx/Desktop/ttt/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/czx/Desktop/ttt/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/czx/Desktop/ttt/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n\nexport default {\n\tname : \"CityAlphabet\",\n\tprops : {\n\t\tcities : Object\n\t},\n\tcomputed : {\n\t\tletters () {\n\t\t\tconst letters = []\n\t\t\tfor(let i in this.cities) {\n\t\t\t\tletters.push(i)\n\t\t\t}\n\t\t\treturn letters\n\t\t}\n\t},\n\tdata () {\n\t\treturn {\n\t\t\ttouchStatus : false,\n\t\t\tstartY : 0,\n\t\t\t// 一直获取影响性能优化\n\t\t\ttimer : null\n\t\t\t// 函数截流\n\t\t}\n\t},\n\tupdated () {\n\t\t// 页面完成更新和渲染后会执行 页面刚加载是city。vue里cities是空值\n\t\tthis.startY = this.$refs['A'][0].offsetTop\n\n\t},\n\tmethods : {\n\t\t// 接受一个e的对象\n\t\thandleLetterClick (e) {\n\t\t\tthis.$emit('change' , e.target.innerText)\n\t\t},\n\t\thandleTouchStart () {\n\t\t\tthis.touchStatus = true\n\t\t},\n\t\thandleTouchMove (e) {\n\t\t\tif (this.touchStatus) {\n\t\t\t\t// const startY = this.$refs['A'][0].offsetTop\n\t\t\t\tif (this.timer){\n\t\t\t\t\tclearTimeout(this.timer)\n\t\t\t\t}\n\t\t\t\tthis.timer = setTimeout(() => {\n\t\t\t\tconst touchY = e.touches[0].clientY - 79\n\t\t\t\t// 手指的值touches\n\t\t\t\tconst index = Math.floor((touchY - this.startY) / 20)\n\t\t\t\tif (index >= 0 && index < this.letters.length)\n\t\t\t\t{this.$emit('change' , this.letters[index])}\n\t\t\t\t},16)\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\thandleTouchEnd () {\n\t\t\tthis.touchStatus = false\n\t\t},\n\t},\n};\n",{"version":3,"sources":["Alphabet.vue"],"names":[],"mappings":";;;;;;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Alphabet.vue","sourceRoot":"src/views/city/component","sourcesContent":["<template>\n\t<ul class=\"list\">\n\t\t<li class=\"item\" v-for=\"item of letters\" :key=\"item\" :ref=\"item\" @touchstart.prevent=\"handleTouchStart\" @touchmove=\"handleTouchMove\" @touchend=\"handleTouchEnd\" @click=\"handleLetterClick\">{{item}}</li>\n\t\t\n\t</ul>\n</template>\n<script type=\"text/javascript\">\n\texport default {\n\t\tname : \"CityAlphabet\",\n\t\tprops : {\n\t\t\tcities : Object\n\t\t},\n\t\tcomputed : {\n\t\t\tletters () {\n\t\t\t\tconst letters = []\n\t\t\t\tfor(let i in this.cities) {\n\t\t\t\t\tletters.push(i)\n\t\t\t\t}\n\t\t\t\treturn letters\n\t\t\t}\n\t\t},\n\t\tdata () {\n\t\t\treturn {\n\t\t\t\ttouchStatus : false,\n\t\t\t\tstartY : 0,\n\t\t\t\t// 一直获取影响性能优化\n\t\t\t\ttimer : null\n\t\t\t\t// 函数截流\n\t\t\t}\n\t\t},\n\t\tupdated () {\n\t\t\t// 页面完成更新和渲染后会执行 页面刚加载是city。vue里cities是空值\n\t\t\tthis.startY = this.$refs['A'][0].offsetTop\n\n\t\t},\n\t\tmethods : {\n\t\t\t// 接受一个e的对象\n\t\t\thandleLetterClick (e) {\n\t\t\t\tthis.$emit('change' , e.target.innerText)\n\t\t\t},\n\t\t\thandleTouchStart () {\n\t\t\t\tthis.touchStatus = true\n\t\t\t},\n\t\t\thandleTouchMove (e) {\n\t\t\t\tif (this.touchStatus) {\n\t\t\t\t\t// const startY = this.$refs['A'][0].offsetTop\n\t\t\t\t\tif (this.timer){\n\t\t\t\t\t\tclearTimeout(this.timer)\n\t\t\t\t\t}\n\t\t\t\t\tthis.timer = setTimeout(() => {\n\t\t\t\t\tconst touchY = e.touches[0].clientY - 79\n\t\t\t\t\t// 手指的值touches\n\t\t\t\t\tconst index = Math.floor((touchY - this.startY) / 20)\n\t\t\t\t\tif (index >= 0 && index < this.letters.length)\n\t\t\t\t\t{this.$emit('change' , this.letters[index])}\n\t\t\t\t\t},16)\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t},\n\t\t\thandleTouchEnd () {\n\t\t\t\tthis.touchStatus = false\n\t\t\t},\n\t\t},\n\t};\n</script>\n<style type=\"text/css\" lang=\"stylus\" scoped>\n\t.list\n\t\tdisplay : flex\n\t\tflex-direction : column\n\t\tjustify-content : center\n\t\tposition : absolute\n\t\ttop : 115px\n\t\tright : 0\n\t\tbottom : 0\n\t\twidth : 20px\n\t\t\t\n\t\t.item\n\t\t\tline-height : 20px\n\t\t\ttext-align : center\n\t\t\tcolor : #00bcd4\n</style>"]}]}