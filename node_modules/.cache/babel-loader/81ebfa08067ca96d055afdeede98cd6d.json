{"remainingRequest":"/Users/czx/Desktop/ttt/node_modules/babel-loader/lib/index.js!/Users/czx/Desktop/ttt/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/czx/Desktop/ttt/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/czx/Desktop/ttt/src/views/city/component/Alphabet.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/czx/Desktop/ttt/src/views/city/component/Alphabet.vue","mtime":1567498731554},{"path":"/Users/czx/Desktop/ttt/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/czx/Desktop/ttt/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/czx/Desktop/ttt/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/czx/Desktop/ttt/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\nexport default {\n  name: \"CityAlphabet\",\n  props: {\n    cities: Object\n  },\n  computed: {\n    letters: function letters() {\n      var letters = [];\n\n      for (var i in this.cities) {\n        letters.push(i);\n      }\n\n      return letters;\n    }\n  },\n  data: function data() {\n    return {\n      touchStatus: false,\n      startY: 0,\n      // 一直获取影响性能优化\n      timer: null // 函数截流\n\n    };\n  },\n  updated: function updated() {\n    // 页面完成更新和渲染后会执行 页面刚加载是city。vue里cities是空值\n    this.startY = this.$refs['A'][0].offsetTop;\n  },\n  methods: {\n    // 接受一个e的对象\n    handleLetterClick: function handleLetterClick(e) {\n      this.$emit('change', e.target.innerText);\n    },\n    handleTouchStart: function handleTouchStart() {\n      this.touchStatus = true;\n    },\n    handleTouchMove: function handleTouchMove(e) {\n      var _this = this;\n\n      if (this.touchStatus) {\n        // const startY = this.$refs['A'][0].offsetTop\n        if (this.timer) {\n          clearTimeout(this.timer);\n        }\n\n        this.timer = setTimeout(function () {\n          var touchY = e.touches[0].clientY - 79; // 手指的值touches\n\n          var index = Math.floor((touchY - _this.startY) / 20);\n\n          if (index >= 0 && index < _this.letters.length) {\n            _this.$emit('change', _this.letters[index]);\n          }\n        }, 16);\n      }\n    },\n    handleTouchEnd: function handleTouchEnd() {\n      this.touchStatus = false;\n    }\n  }\n};",{"version":3,"sources":["Alphabet.vue"],"names":[],"mappings":";;;;;;AAOA,eAAA;AACA,EAAA,IAAA,EAAA,cADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,MAAA,EAAA;AADA,GAFA;AAKA,EAAA,QAAA,EAAA;AACA,IAAA,OADA,qBACA;AACA,UAAA,OAAA,GAAA,EAAA;;AACA,WAAA,IAAA,CAAA,IAAA,KAAA,MAAA,EAAA;AACA,QAAA,OAAA,CAAA,IAAA,CAAA,CAAA;AACA;;AACA,aAAA,OAAA;AACA;AAPA,GALA;AAcA,EAAA,IAdA,kBAcA;AACA,WAAA;AACA,MAAA,WAAA,EAAA,KADA;AAEA,MAAA,MAAA,EAAA,CAFA;AAGA;AACA,MAAA,KAAA,EAAA,IAJA,CAKA;;AALA,KAAA;AAOA,GAtBA;AAuBA,EAAA,OAvBA,qBAuBA;AACA;AACA,SAAA,MAAA,GAAA,KAAA,KAAA,CAAA,GAAA,EAAA,CAAA,EAAA,SAAA;AAEA,GA3BA;AA4BA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,iBAFA,6BAEA,CAFA,EAEA;AACA,WAAA,KAAA,CAAA,QAAA,EAAA,CAAA,CAAA,MAAA,CAAA,SAAA;AACA,KAJA;AAKA,IAAA,gBALA,8BAKA;AACA,WAAA,WAAA,GAAA,IAAA;AACA,KAPA;AAQA,IAAA,eARA,2BAQA,CARA,EAQA;AAAA;;AACA,UAAA,KAAA,WAAA,EAAA;AACA;AACA,YAAA,KAAA,KAAA,EAAA;AACA,UAAA,YAAA,CAAA,KAAA,KAAA,CAAA;AACA;;AACA,aAAA,KAAA,GAAA,UAAA,CAAA,YAAA;AACA,cAAA,MAAA,GAAA,CAAA,CAAA,OAAA,CAAA,CAAA,EAAA,OAAA,GAAA,EAAA,CADA,CAEA;;AACA,cAAA,KAAA,GAAA,IAAA,CAAA,KAAA,CAAA,CAAA,MAAA,GAAA,KAAA,CAAA,MAAA,IAAA,EAAA,CAAA;;AACA,cAAA,KAAA,IAAA,CAAA,IAAA,KAAA,GAAA,KAAA,CAAA,OAAA,CAAA,MAAA,EACA;AAAA,YAAA,KAAA,CAAA,KAAA,CAAA,QAAA,EAAA,KAAA,CAAA,OAAA,CAAA,KAAA,CAAA;AAAA;AACA,SANA,EAMA,EANA,CAAA;AAQA;AACA,KAvBA;AAwBA,IAAA,cAxBA,4BAwBA;AACA,WAAA,WAAA,GAAA,KAAA;AACA;AA1BA;AA5BA,CAAA","sourcesContent":["<template>\n\t<ul class=\"list\">\n\t\t<li class=\"item\" v-for=\"item of letters\" :key=\"item\" :ref=\"item\" @touchstart.prevent=\"handleTouchStart\" @touchmove=\"handleTouchMove\" @touchend=\"handleTouchEnd\" @click=\"handleLetterClick\">{{item}}</li>\n\t\t\n\t</ul>\n</template>\n<script type=\"text/javascript\">\n\texport default {\n\t\tname : \"CityAlphabet\",\n\t\tprops : {\n\t\t\tcities : Object\n\t\t},\n\t\tcomputed : {\n\t\t\tletters () {\n\t\t\t\tconst letters = []\n\t\t\t\tfor(let i in this.cities) {\n\t\t\t\t\tletters.push(i)\n\t\t\t\t}\n\t\t\t\treturn letters\n\t\t\t}\n\t\t},\n\t\tdata () {\n\t\t\treturn {\n\t\t\t\ttouchStatus : false,\n\t\t\t\tstartY : 0,\n\t\t\t\t// 一直获取影响性能优化\n\t\t\t\ttimer : null\n\t\t\t\t// 函数截流\n\t\t\t}\n\t\t},\n\t\tupdated () {\n\t\t\t// 页面完成更新和渲染后会执行 页面刚加载是city。vue里cities是空值\n\t\t\tthis.startY = this.$refs['A'][0].offsetTop\n\n\t\t},\n\t\tmethods : {\n\t\t\t// 接受一个e的对象\n\t\t\thandleLetterClick (e) {\n\t\t\t\tthis.$emit('change' , e.target.innerText)\n\t\t\t},\n\t\t\thandleTouchStart () {\n\t\t\t\tthis.touchStatus = true\n\t\t\t},\n\t\t\thandleTouchMove (e) {\n\t\t\t\tif (this.touchStatus) {\n\t\t\t\t\t// const startY = this.$refs['A'][0].offsetTop\n\t\t\t\t\tif (this.timer){\n\t\t\t\t\t\tclearTimeout(this.timer)\n\t\t\t\t\t}\n\t\t\t\t\tthis.timer = setTimeout(() => {\n\t\t\t\t\tconst touchY = e.touches[0].clientY - 79\n\t\t\t\t\t// 手指的值touches\n\t\t\t\t\tconst index = Math.floor((touchY - this.startY) / 20)\n\t\t\t\t\tif (index >= 0 && index < this.letters.length)\n\t\t\t\t\t{this.$emit('change' , this.letters[index])}\n\t\t\t\t\t},16)\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t},\n\t\t\thandleTouchEnd () {\n\t\t\t\tthis.touchStatus = false\n\t\t\t},\n\t\t},\n\t};\n</script>\n<style type=\"text/css\" lang=\"stylus\" scoped>\n\t.list\n\t\tdisplay : flex\n\t\tflex-direction : column\n\t\tjustify-content : center\n\t\tposition : absolute\n\t\ttop : 115px\n\t\tright : 0\n\t\tbottom : 0\n\t\twidth : 20px\n\t\t\t\n\t\t.item\n\t\t\tline-height : 20px\n\t\t\ttext-align : center\n\t\t\tcolor : #00bcd4\n</style>"],"sourceRoot":"src/views/city/component"}]}